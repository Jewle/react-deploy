(this["webpackJsonpstar-wars"]=this["webpackJsonpstar-wars"]||[]).push([[0],[,,,,,,,,,,,,,,,,,function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var r=n(1),a=n.n(r),s=n(3),c=n(4),i=n(5),o=n(7),l=n(6),u=function(e){Object(o.a)(n,e);var t=Object(l.a)(n);function n(){var e;return Object(c.a)(this,n),(e=t.call(this,"https://swapi.dev/api")).getAllPeople=Object(s.a)(a.a.mark((function t(){var n;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.get("/people/");case 2:return n=t.sent.results,t.abrupt("return",n.map(e._transformPerson));case 4:case"end":return t.stop()}}),t)}))),e.getPerson=function(){var t=Object(s.a)(a.a.mark((function t(n){var r;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.get("/people/".concat(n));case 2:return r=t.sent,t.abrupt("return",e._transformPerson(r));case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.getAllPlanets=Object(s.a)(a.a.mark((function t(){var n;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.get("/planets/");case 2:return n=t.sent.results,t.abrupt("return",n.map(e._transformPlanet));case 4:case"end":return t.stop()}}),t)}))),e.getPlanet=function(){var t=Object(s.a)(a.a.mark((function t(n){var r;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.get("/planets/".concat(n));case 2:return r=t.sent,t.abrupt("return",e._transformPlanet(r));case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.getAllStarShips=Object(s.a)(a.a.mark((function t(){var n;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.get("/starships/");case 2:return n=t.sent.results,t.abrupt("return",n.map(e._transformStarShip));case 4:case"end":return t.stop()}}),t)}))),e.getAllStarShip=function(){var t=Object(s.a)(a.a.mark((function t(n){var r;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.get("/starships/".concat(n));case 2:return r=t.sent,t.abrupt("return",e._transformStarShip(r));case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.getPersonImage=function(e){return"https://starwars-visualguide.com/assets/img/characters/".concat(e||1,".jpg")},e.getStarShipImage=function(e){return"https://starwars-visualguide.com/assets/img/starships/".concat(e||5,".jpg")},e._transformPlanet=function(t){return{name:t.name,id:e._extractId(t.url),population:t.population,diameter:t.diameter,rotationPeriod:t.rotation_period}},e._transformStarShip=function(t){return{id:e._extractId(t.url),model:t.model,manufacturer:t.manufacturer,costInCredits:t.costInCredits,length:t.length,crew:t.crew,passengers:t.passengers,cargoCapacity:t.cargoCapacity}},e._transformPerson=function(t){return{id:e._extractId(t.url),name:t.name,gender:t.gender,birthYear:t.birth_year,eyeColor:t.eye_color}},e}return Object(i.a)(n,[{key:"_extractId",value:function(e){return e.match(/\/([0-9]*)\/$/)[1]}}]),n}(function(){function e(t){Object(c.a)(this,e),this.url=t}return Object(i.a)(e,[{key:"get",value:function(){var e=Object(s.a)(a.a.mark((function e(t){var n;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(this.url+t);case 2:if((n=e.sent).ok){e.next=5;break}throw new Error("OOPS. Some problems with fetch "+this.url+t+". SWAPI.SERvice");case 5:return e.next=7,n.json();case 7:return e.abrupt("return",e.sent);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),e}()),p=n(2),j=n.n(p),d=n(9),h=n.n(d),b=n(8),m=n(0);var f=function(e,t,n){console.log(e,t,n);var r=function(r){Object(o.a)(p,r);var u=Object(l.a)(p);function p(){var e;Object(c.a)(this,p);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return(e=u.call.apply(u,[this].concat(n))).state={people:{},isLoaded:!1,hasErrors:!1},e}return Object(i.a)(p,[{key:"componentDidMount",value:function(){this.updateItem()}},{key:"updateItem",value:function(){var e=Object(s.a)(a.a.mark((function e(){var n;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t();case 3:n=e.sent,this.setState({isLoaded:!0,people:n}),e.next=11;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0),this.setState({hasErrors:!0});case 11:case"end":return e.stop()}}),e,this,[[0,7]])})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var t=n.onSelectPerson,r=Object(b.a)(Object(b.a)({},this.state),{},{onSelectPerson:t});return Object(m.jsx)(e,Object(b.a)({},r))}}]),p}(p.Component);return Object(m.jsx)(r,{})},O=(n(17),function(){return Object(m.jsxs)("div",{className:"header d-flex",children:[Object(m.jsx)("h3",{children:Object(m.jsx)("a",{href:"#",children:"Star DB"})}),Object(m.jsxs)("ul",{className:"d-flex",children:[Object(m.jsx)("li",{children:Object(m.jsx)("a",{href:"#",children:"People"})}),Object(m.jsx)("li",{children:Object(m.jsx)("a",{href:"#",children:"Planets"})}),Object(m.jsx)("li",{children:Object(m.jsx)("a",{href:"#",children:"Starships"})})]})]})}),v=(n(18),n(19),function(){return Object(m.jsx)("div",{className:"container",children:Object(m.jsx)("div",{className:"loadingio-spinner-ellipsis-i2s4ewp7zss",children:Object(m.jsxs)("div",{className:"ldio-nz4qbhncnrh",children:[Object(m.jsx)("div",{}),Object(m.jsx)("div",{}),Object(m.jsx)("div",{}),Object(m.jsx)("div",{}),Object(m.jsx)("div",{})]})})})}),x=function(){return Object(m.jsx)("div",{className:"alert alert-danger",role:"alert",children:"Something went wrong"})},g=function(e){Object(o.a)(n,e);var t=Object(l.a)(n);function n(){var e;Object(c.a)(this,n);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return(e=t.call.apply(t,[this].concat(i))).interval=null,e.state={planet:{},isLoaded:!1,hasErrors:!1},e.swapi=new u,e.updatePlanet=Object(s.a)(a.a.mark((function t(){var n,r;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,e.setState({isLoaded:!1}),n=Math.floor(25*Math.random())+2,t.next=5,e.swapi.getPlanet(n);case 5:r=t.sent,e.setState({planet:r,isLoaded:!0}),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(0),e.setState({hasErrors:!0,isLoaded:!0});case 12:case"end":return t.stop()}}),t,null,[[0,9]])}))),e}return Object(i.a)(n,[{key:"componentDidMount",value:function(){this.updatePlanet(),this.interval=setInterval(this.updatePlanet,1e4)}},{key:"componentWillUnmount",value:function(){clearInterval(this.interval)}},{key:"render",value:function(){var e=this.state,t=e.isLoaded,n=e.planet,r=e.hasErrors,a=t?Object(m.jsx)(w,{planet:n}):Object(m.jsx)(v,{});return Object(m.jsx)("div",{className:"random-planet jumbotron rounded",children:r?Object(m.jsx)(x,{}):a})}}]),n}(p.Component),w=function(e){var t=e.planet,n=t.diameter,r=t.population,a=t.rotationPeriod,s=t.name,c=t.id;return Object(m.jsxs)(j.a.Fragment,{children:[Object(m.jsx)("img",{className:"planet-image",src:"https://starwars-visualguide.com/assets/img/planets/".concat(c||"2",".jpg")}),Object(m.jsxs)("div",{children:[Object(m.jsx)("h4",{children:s}),Object(m.jsxs)("ul",{className:"list-group list-group-flush",children:[Object(m.jsxs)("li",{className:"list-group-item",children:[Object(m.jsx)("span",{className:"term",children:"Population"}),Object(m.jsx)("span",{children:r})]}),Object(m.jsxs)("li",{className:"list-group-item",children:[Object(m.jsx)("span",{className:"term",children:"Rotation Period"}),Object(m.jsx)("span",{children:a})]}),Object(m.jsxs)("li",{className:"list-group-item",children:[Object(m.jsx)("span",{className:"term",children:"Diameter"}),Object(m.jsx)("span",{children:n})]})]})]})]})},S=g,P=(n(20),function(e){Object(o.a)(n,e);var t=Object(l.a)(n);function n(){var e;Object(c.a)(this,n);for(var r=arguments.length,a=new Array(r),s=0;s<r;s++)a[s]=arguments[s];return(e=t.call.apply(t,[this].concat(a))).listView=function(t){return Object(m.jsx)("ul",{className:"item-list list-group",children:t.map((function(t){var n=t.name;return Object(m.jsx)("li",{className:"list-group-item",onClick:function(){return e.props.onSelectPerson(t.id)},children:n},t.id)}))})},e}return Object(i.a)(n,[{key:"render",value:function(){var e=this.props,t=e.isLoaded,n=e.people,r=e.hasErrors,a=t?this.listView(n):Object(m.jsx)(v,{});return r?Object(m.jsx)(x,{}):a}}]),n}(p.Component)),y=(n(21),p.Component,n(22),function(e){var t=e.left,n=e.right;return Object(m.jsxs)("div",{className:"row mb2",children:[Object(m.jsxs)("div",{className:"col-md-6",children:[t,Object(m.jsx)("br",{}),Object(m.jsx)("br",{})]}),Object(m.jsx)("div",{className:"col-md-6",children:n})]})}),k=(n(23),function(e){var t=e.item,n=e.field,r=e.label;return Object(m.jsxs)("li",{className:"list-group-item",children:[Object(m.jsx)("span",{className:"term",children:r}),Object(m.jsx)("span",{children:t[n]})]})}),I=function(e){Object(o.a)(n,e);var t=Object(l.a)(n);function n(){var e;Object(c.a)(this,n);for(var r=arguments.length,a=new Array(r),s=0;s<r;s++)a[s]=arguments[s];return(e=t.call.apply(t,[this].concat(a))).state={item:{},isLoaded:!1},e}return Object(i.a)(n,[{key:"fetchItem",value:function(){var e=Object(s.a)(a.a.mark((function e(t){var n;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.props.getData(t);case 2:n=e.sent,this.setState({item:n});case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"componentDidMount",value:function(){console.log("mounted"),this.fetchItem(5)}},{key:"componentDidUpdate",value:function(e,t,n){if(e.personId!==this.props.personId){var r=this.props.personId||3;this.fetchItem(r)}}},{key:"render",value:function(){var e=this.state.item,t=this.props.getImage;return Object(m.jsxs)("div",{className:"person-details card",children:[Object(m.jsx)("img",{className:"person-image",src:t(e.id)}),Object(m.jsxs)("div",{className:"card-body",children:[Object(m.jsx)("h4",{children:e.name}),Object(m.jsx)("ul",{className:"list-group list-group-flush",children:j.a.Children.map(this.props.children,(function(t,n){return t=j.a.cloneElement(t,{item:e})}))})]})]})}}]),n}(p.Component),N=function(e){Object(o.a)(n,e);var t=Object(l.a)(n);function n(){var e;Object(c.a)(this,n);for(var r=arguments.length,a=new Array(r),s=0;s<r;s++)a[s]=arguments[s];return(e=t.call.apply(t,[this].concat(a))).swapiService=new u,e.state={showRandomPlanet:!0,selectedPerson:1},e.onSelectPerson=function(t){e.setState({selectedPerson:t})},e.planetList=Object(m.jsx)(P,{getData:e.swapiService.getAllPlanets,renderItem:function(e){return e.name+"( ".concat(e.diameter,")")}}),e.toggleRandomPlanet=function(){e.setState((function(e){return Object(b.a)(Object(b.a)({},e),{},{showRandomPlanet:!e.showRandomPlanet})}))},e}return Object(i.a)(n,[{key:"render",value:function(){var e=this.state.showRandomPlanet,t=f(P,this.swapiService.getAllPeople,{onSelectPerson:this.onSelectPerson}),n=Object(m.jsxs)(I,{getData:this.swapiService.getPerson,personId:this.state.selectedPerson,getImage:this.swapiService.getPersonImage,children:[Object(m.jsx)(k,{field:"gender",label:"Gender"}),Object(m.jsx)(k,{field:"eyeColor",label:"Eye color"})]}),r=Object(m.jsxs)(I,{getImage:this.swapiService.getStarShipImage,getData:this.swapiService.getAllStarShip,children:[Object(m.jsx)(k,{field:"model",label:"Model"}),Object(m.jsx)(k,{field:"length",label:"Length"}),Object(m.jsx)(k,{field:"costInCredits",label:"Cost"})]});return Object(m.jsxs)("div",{children:[Object(m.jsx)(O,{}),e?Object(m.jsx)(S,{}):null,Object(m.jsx)("button",{type:"button",onClick:this.toggleRandomPlanet,className:"btn btn-warning",children:"Toggle"}),Object(m.jsx)(y,{left:r,right:n}),t]})}}]),n}(p.Component);h.a.render(Object(m.jsx)(N,{}),document.getElementById("root"))}],[[24,1,2]]]);
//# sourceMappingURL=main.1527b039.chunk.js.map